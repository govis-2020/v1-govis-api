<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="board">
    <select id="getBoardsWithLimitOffset" parameterType="map" resultType="BoardEntity">
      SELECT *
      FROM board
      ORDER BY created_at DESC
      LIMIT #{limit} OFFSET #{offset};
    </select>

    <select id="getInterestBoardsWithLimitOffset" parameterType="map" resultType="BoardEntity">
      SELECT *
      FROM user_keyword uk
      JOIN board_keyword bk ON uk.keyword_id = bk.keyword_id
      JOIN board b ON bk.board_id = b.id
      WHERE uk.user_id = #{userId}
      ORDER BY b.created_at DESC
      LIMIT #{limit} OFFSET #{offset};
    </select>
</mapper>